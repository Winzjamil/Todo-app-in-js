<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>RPS</title>
    <style></style>
  </head>
  <body>
    <div class="player-score">PLAYER:</div>
    <div class="versus">
      <div class="player-weapon">Player</div>
      vs
      <div class="computer-weapon">Computer</div>
    </div>
    <div class="computer-score">COMPUTER:</div>
    <div class="player-action"></div>

    <script>
      let Rps = ['rock', 'paper', 'scissor'];
      let playerAction = document.querySelector('.player-action');
      let playerWinScore = document.querySelector('.player-score');
      let computerWinScore = document.querySelector('.computer-score');
      let playerScore = 0;
      let computerScore = 0;
      let playerWeapon = document.querySelector('.player-weapon');
      let computerWeapon = document.querySelector('.computer-weapon');
      Rps.forEach(function (el) {
        let btn = document.createElement('button');
        btn.textContent = el;
        playerAction.append(btn);
        btn.addEventListener('click', function () {
          let player = el;
          let computer = Rps[Math.floor(Math.random() * 3)]; // to generate a random numbers
          playerWeapon.textContent = `Player:   ${player} `;
          computerWeapon.textContent = ` computer:  ${computer}`;
          if (player === computer) {
          } else if (player == 'paper') {
            if (computer == 'scissor') {
              computerScore++;
            } else {
              playerScore++;
            }
          } else if (player == 'scissor') {
            if (computer == 'rock') {
              computerScore++; // computer win
            } else {
              playerScore++; //player1 win
            }
          } else {
            if (computer == 'paper') {
              playerScore++; // player1 win
            } else {
              computerScore++; //computer win
            }
          }
          if (playerScore === 5) {
            alert('player win');
            resetGame();
          } else if (computerScore === 5) {
            alert('computer win');
            resetGame();
          }

          playerWinScore.textContent = ` PLAYER :  ${playerScore}`;
          computerWinScore.textContent = ` COMPUTER : ${computerScore}`;
        });
      });
      function resetGame() {
        playerScore = 0;
        computerScore = 0;
        playerWinScore.textContent = `PLAYER: ${playerScore}`;
        computerWinScore.textContent = `COMPUTER: ${computerScore}`;
        playerWeapon.textContent = '';
      }
    </script>
  </body>
</html>
